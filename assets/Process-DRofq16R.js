import{r as o,j as s}from"./index-x3x58yau.js";const re=`
@keyframes pulse {
  0%   { transform: scale(1); }
  50%  { transform: scale(1.5); }
  100% { transform: scale(1); }
}
`;if(typeof document<"u"&&!document.getElementById("pulse-anim")){const u=document.createElement("style");u.id="pulse-anim",u.innerHTML=re,document.head.appendChild(u)}function ce(){const u=o.useRef(null),D=o.useRef(null),[U,bt]=o.useState(0),[oe,st]=o.useState(0),[b,W]=o.useState(!1),[M,nt]=o.useState(!1),[rt,ot]=o.useState(!1),H=o.useRef([]),Y=o.useRef(0),F=o.useRef(null),at=160,it=4e3,jt=600,kt=900,ct=1200,[lt,ut]=o.useState(!1),[ft,dt]=o.useState(!1),[yt,xt]=o.useState(!1),n=120,i=180,g=280,_=g+2*n,L=_+2*n,mt=g-2*n,Pt=i-n,ht=L+2*n,pt=10,$t=0,C=12,Wt=1,St=3,Ft=-200,Ct=-30,Ot=2,vt=2,Bt=0,G=["Process:","Prototyper:","Framåt:"],wt=500,[Nt,z]=o.useState(!1),x=o.useRef(null),O=o.useRef(!1),v=n,Xt=64,K=2.5,V=2*Math.PI*v/Xt,j=.001,[gt,At]=o.useState({x:0,y:0}),[k,Ut]=o.useState(null),[q,Tt]=o.useState([!1,!1,!1,!1]),B=o.useRef([null,null,null,null]),Ht=["Start","Återkommande","Utforskande","Simulering"],Yt=["& Samverkan","event","mellananvändning","av framtiden"],Gt=["Process","Event","Fullskala","Digital"],zt=["prototyp","prototyp","prototyp","prototyp"],Kt=0,Vt=0,Et=pt,J=3,Q=.45,Lt=.25,[Rt,Z]=o.useState([!1,!1,!1,!1]),[qt,w]=o.useState(-1),[Jt,Dt]=o.useState([!1,!1,!1,!1]),P=o.useRef([]),Mt=90;function tt(t,r,a){let S=0,y=1/0;const A=Math.max(800,Math.min(4e3,Math.round(a/1)));for(let m=0;m<=A;m++){const c=m/A*a,f=u.current.getPointAtLength(c),h=f.x-t,e=f.y-r,l=h*h+e*e;l<y&&(y=l,S=c)}return S}o.useEffect(()=>{if(!u.current)return;const t=u.current.getTotalLength();bt(t),st(0),nt(!1),u.current.style.strokeDasharray=String(t),u.current.style.strokeDashoffset=String(t);const r=u.current.getPointAtLength(0);At({x:r.x,y:r.y}),D.current&&(D.current.setAttribute("cx",String(r.x)),D.current.setAttribute("cy",String(r.y)));const a=Mt*Math.PI/180,S=g+n*Math.cos(a),y=i+n*Math.sin(a),A=tt(S,y,t),m=-90*Math.PI/180,c=_+n*Math.cos(m),f=i+n*Math.sin(m),h=tt(c,f,t),e=90*Math.PI/180,l=L+n*Math.cos(e),p=i+n*Math.sin(e),T=tt(l,p,t);return H.current=[A,h,T].sort((R,E)=>R-E),Y.current=0,ut(!1),dt(!1),xt(!1),z(!1),O.current=!1,x.current&&clearTimeout(x.current),()=>{B.current.forEach(R=>R&&clearTimeout(R)),F.current&&clearTimeout(F.current),x.current&&clearTimeout(x.current)}},[Mt]),o.useEffect(()=>{if(!b||!u.current)return;let t=0,r=performance.now();const a=Math.max(U-$t,0),S=y=>{const A=(y-r)/1e3;r=y,st(m=>{const c=Math.min(m+at*A,a);u.current.style.strokeDashoffset=String(U-c);const f=u.current.getPointAtLength(c);At({x:f.x,y:f.y}),D.current&&(D.current.setAttribute("cx",String(f.x)),D.current.setAttribute("cy",String(f.y)));const h=Y.current;if(!M&&h<H.current.length){const e=H.current[h];m<e&&c>=e&&(h===0&&ut(!0),h===1&&dt(!0),h===2&&xt(!0),Y.current+=1,W(!1),F.current=setTimeout(()=>W(!0),it))}if(c>=a){W(!1),nt(!0);const e=u.current.getPointAtLength(a);Ut({x:e.x,y:e.y})}return c}),t=requestAnimationFrame(S)};return t=requestAnimationFrame(S),()=>cancelAnimationFrame(t)},[b,U,at,M,it]),o.useEffect(()=>(b&&!O.current&&!x.current&&(x.current=setTimeout(()=>{z(!0),O.current=!0,x.current=null},wt)),()=>{!b&&x.current&&(clearTimeout(x.current),x.current=null)}),[b]);const Qt=t=>t*Math.PI/180,I=n/2,Zt=t=>{const r=Qt(Kt),a=I+Vt;return{x:t.x+a*Math.cos(r),y:t.y+a*Math.sin(r)}},_t={w:50},It=70,$=k??{x:gt.x,y:gt.y},N=Math.round(I*2.5),et=110,X=$.x+_t.w/2+It+I,te=[{x:X,y:$.y+0*N},{x:X,y:$.y+1*N},{x:X,y:$.y+2*N},{x:X,y:$.y+3*N}];function ee(){b||rt||F.current||(z(!1),O.current=!1,x.current&&(clearTimeout(x.current),x.current=null),ot(!0),setTimeout(()=>{ot(!1),W(!0)},600))}o.useEffect(()=>{if(B.current.forEach(e=>e&&clearTimeout(e)),P.current.forEach(e=>e&&clearTimeout(e)),P.current=[],!M){Tt([!1,!1,!1,!1]),Z([!1,!1,!1,!1]),Dt([!1,!1,!1,!1]),w(-1);return}const t=jt,r=t+kt,a=r+ct,S=a+ct,y=[t,r,a,S];y.forEach((e,l)=>{B.current[l]=setTimeout(()=>{Tt(p=>{const T=[...p];return T[l]=!0,T})},e)});const A=Math.max(...y)+100,m=J*(Q*1e3),c=Lt*1e3,f=m+c;return P.current.push(setTimeout(()=>{Z([!1,!1,!1,!1]),w(-1);for(let e=0;e<4;e++)P.current.push(setTimeout(()=>{w(e),Z(l=>{const p=[...l];return p[e]=!0,p})},e*f)),P.current.push(setTimeout(()=>{Dt(l=>{const p=[...l];return p[e]=!0,p}),w(l=>l===e?-1:l)},e*f+m))},A+600)),()=>{B.current.forEach(e=>e&&clearTimeout(e)),P.current.forEach(e=>e&&clearTimeout(e))}},[M,J,Q,Lt]);const d={wrapper:{background:"transparent",color:"#000",borderRadius:12,padding:12},svg:{display:"block",maxWidth:"100%",maxHeight:"100%",width:"80vw",height:"auto",margin:"0 auto",cursor:"pointer",fontFamily:'"CircularStd", system-ui, -apple-system, "Segoe UI", Roboto, Arial, sans-serif'},mainPath:{stroke:"#000",strokeWidth:4,strokeLinecap:"round",fill:"none"},dashed:{fill:"none",stroke:"#000",strokeLinecap:"round",opacity:0,transition:"opacity .8s ease",willChange:"opacity"},dot:{transition:"opacity .6s ease",transformBox:"fill-box",transformOrigin:"center",willChange:"transform",animation:rt?"pulse 0.3s ease-in-out 2":"none"},iconWrap:{transition:"opacity .8s ease"},miniCircle:{fill:"none",stroke:"#000",strokeWidth:3,transition:"opacity .6s ease"},miniPulseDot:{transformBox:"fill-box",transformOrigin:"center"},stepText:t=>({transition:"opacity .8s ease",opacity:t?1:0}),leader:(t=!0)=>({opacity:t?1:0,transition:"opacity .4s ease"})};return s.jsx("div",{style:d.wrapper,children:s.jsxs("svg",{style:d.svg,viewBox:"-160 -220 1800 960",preserveAspectRatio:"xMidYMid meet",onClick:ee,role:"img","aria-label":"Interaktivt processdiagram",children:[(()=>{const t=i-n+Ft,r=mt+Ot,a=ht-vt,S=n/2,y=2*S,c=(k?.x??ht)+_t.w/2+It+S-y/2+Bt,f=c+y,h=c-a,e=f+h,l=e+y,p=({x1:T,x2:R,y:E,label:se,visible:ne=!0})=>s.jsxs("g",{style:d.leader(ne),children:[s.jsx("text",{x:T,y:E+Ct,textAnchor:"start",dominantBaseline:"baseline",fontSize:"16",style:{fontFamily:'"CircularStd", system-ui, -apple-system, "Segoe UI", Roboto, Arial, sans-serif'},children:se}),s.jsx("line",{x1:T,y1:E,x2:R,y2:E,stroke:"#000",strokeWidth:Wt}),s.jsx("line",{x1:T,y1:E-C/2,x2:T,y2:E+C/2,stroke:"#000",strokeWidth:St,strokeLinecap:"round"}),s.jsx("line",{x1:R,y1:E-C/2,x2:R,y2:E+C/2,stroke:"#000",strokeWidth:St,strokeLinecap:"round"})]});return s.jsxs("g",{"aria-label":"Leaders",children:[s.jsx(p,{x1:r,x2:a,y:t,label:G[0],visible:Nt}),s.jsx(p,{x1:c,x2:f,y:t,label:G[1],visible:q[0]}),s.jsx(p,{x1:e,x2:l,y:t,label:G[2],visible:Rt[0]})]})})(),s.jsx("path",{ref:u,style:d.mainPath,d:`
            M ${mt} ${Pt}
            A ${n} ${n} 0 0 1 ${g-n} ${i}
            A ${n} ${n} 0 0 0 ${g+n} ${i}
            A ${n} ${n} 0 0 1 ${_+n} ${i}
            A ${n} ${n} 0 0 0 ${L+n} ${i}
            A ${n} ${n} 0 0 1 ${L+2*n} ${i-n}
          `}),s.jsx("circle",{cx:g,cy:i,r:v,style:{...d.dashed,strokeWidth:K,strokeDasharray:`${j} ${V-j}`,opacity:lt?1:0}}),s.jsx("circle",{cx:_,cy:i,r:v,style:{...d.dashed,strokeWidth:K,strokeDasharray:`${j} ${V-j}`,opacity:ft?1:0}}),s.jsx("circle",{cx:L,cy:i,r:v,style:{...d.dashed,strokeWidth:K,strokeDasharray:`${j} ${V-j}`,opacity:yt?1:0}}),s.jsx("circle",{ref:D,r:pt,fill:"#000",style:{...d.dot,opacity:M?0:1}}),M&&k&&s.jsx("g",{transform:`translate(${k.x} ${k.y}) rotate(0)`,style:d.iconWrap,"aria-hidden":"true",children:s.jsx("path",{d:"M -12 -18 L 0 0 L -12 18",fill:"none",stroke:"#000",strokeWidth:"6",strokeLinecap:"round",strokeLinejoin:"round"})}),M&&k&&te.map((t,r)=>{const a=Zt(t);return s.jsxs("g",{children:[s.jsx("circle",{cx:t.x,cy:t.y,r:I,style:{...d.miniCircle,opacity:q[r]?1:0}}),s.jsxs("text",{x:t.x+I+et,y:a.y,textAnchor:"start",dominantBaseline:"middle",fontSize:"18",fill:"#000",style:{transition:"opacity .3s ease",opacity:Rt[r]?1:0,fontFamily:'"CircularStd", system-ui, -apple-system, "Segoe UI", Roboto, Arial, sans-serif'},children:[s.jsx("tspan",{x:t.x+I+et,dy:"-0.55em",style:{fontWeight:700},children:Ht[r]}),s.jsx("tspan",{x:t.x+I+et,dy:"1.2em",style:{fontWeight:400},children:Yt[r]})]}),s.jsxs("text",{x:t.x,y:t.y,textAnchor:"middle",dominantBaseline:"middle",fontSize:"14",fill:"#000",style:{transition:"opacity .3s ease",opacity:q[r]?1:0,fontFamily:'"CircularStd", system-ui, -apple-system, "Segoe UI", Roboto, Arial, sans-serif'},children:[s.jsx("tspan",{x:t.x,dy:"-0.35em",style:{fontWeight:700},children:Gt[r]}),s.jsx("tspan",{x:t.x,dy:"1.2em",style:{fontWeight:400},children:zt[r]})]}),Jt[r]&&s.jsx("circle",{cx:a.x,cy:a.y,r:Et,fill:"#000"}),qt===r&&s.jsx("circle",{cx:a.x,cy:a.y,r:Et,fill:"#000",style:{...d.miniPulseDot,animation:`pulse ${Q}s ease-in-out ${J}`}})]},r)}),s.jsxs("text",{x:g,y:i,textAnchor:"middle",dominantBaseline:"middle",fontSize:"20",fill:"#000",style:{...d.stepText(lt),fontFamily:'"CircularStd", system-ui, -apple-system, "Segoe UI", Roboto, Arial, sans-serif'},children:[s.jsx("tspan",{x:g,dy:"-0.5em",style:{fontWeight:700},children:"Labb 1"}),s.jsx("tspan",{x:g,dy:"1.2em",style:{fontWeight:400},children:"Vilket tema?"})]}),s.jsxs("text",{x:_,y:i,textAnchor:"middle",dominantBaseline:"middle",fontSize:"20",fill:"#000",style:{...d.stepText(ft),fontFamily:'"CircularStd", system-ui, -apple-system, "Segoe UI", Roboto, Arial, sans-serif'},children:[s.jsx("tspan",{x:_,dy:"-0.5em",style:{fontWeight:700},children:"Labb 2"}),s.jsx("tspan",{x:_,dy:"1.2em",style:{fontWeight:400},children:"Vilket tema?"})]}),s.jsxs("text",{x:L,y:i,textAnchor:"middle",dominantBaseline:"middle",fontSize:"20",fill:"#000",style:{...d.stepText(yt),fontFamily:'"CircularStd", system-ui, -apple-system, "Segoe UI", Roboto, Arial, sans-serif'},children:[s.jsx("tspan",{x:L,dy:"-0.5em",style:{fontWeight:700},children:"Labb 3"}),s.jsx("tspan",{x:L,dy:"1.2em",style:{fontWeight:400},children:"Vilket tema?"})]})]})})}export{ce as default};
